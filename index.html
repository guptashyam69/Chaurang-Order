<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RebelSip Mineral Water Sales Portal</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
min-height:100vh;
padding:20px
}

.container{max-width:1200px;margin:0 auto}

.header{
background:#fff;
padding:20px 30px;
border-radius:15px;
box-shadow:0 10px 30px rgba(0,0,0,0.2);
margin-bottom:30px;
text-align:center
}

.header h1{color:#667eea;font-size:2em}
.header p{color:#666}

.main-content{
display:grid;
grid-template-columns:1fr 1fr;
gap:30px
}

.card{
background:#fff;
padding:30px;
border-radius:15px;
box-shadow:0 10px 30px rgba(0,0,0,0.2)
}

.card h2{color:#667eea;margin-bottom:20px}

.form-group{margin-bottom:20px}
label{display:block;margin-bottom:8px;font-weight:600}

input,textarea{
width:100%;
padding:12px;
border:2px solid #e0e0e0;
border-radius:8px;
font-size:1em
}

.product-grid{
display:grid;
grid-template-columns:repeat(3,1fr);
gap:15px
}

.product-item{
border:2px solid #e0e0e0;
padding:15px;
border-radius:8px;
text-align:center
}

.product-item h3{margin-bottom:5px}
.price{color:#667eea;font-weight:bold}

.quantity-control{
display:flex;
justify-content:center;
gap:10px;
margin-top:10px
}

.quantity-control button{
background:#667eea;
color:white;
border:none;
width:35px;
height:35px;
border-radius:50%;
cursor:pointer;
font-size:1.2em
}

.quantity-control input{
width:60px;
text-align:center
}

.order-summary{
background:#f8f9ff;
padding:20px;
border-radius:8px;
margin-top:20px
}

.summary-item{
display:flex;
justify-content:space-between;
padding:8px 0;
border-bottom:1px solid #ddd
}

.summary-item:last-child{
border-bottom:none;
font-weight:bold;
color:#667eea
}

.btn{
background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
color:#fff;
border:none;
padding:15px;
border-radius:8px;
font-size:1.1em;
cursor:pointer;
width:100%;
margin-top:20px
}

.orders-list{
max-height:400px;
overflow-y:auto
}

.order-card{
background:#f8f9ff;
padding:15px;
border-radius:8px;
margin-bottom:15px;
border-left:4px solid #667eea
}

.alert{padding:15px;border-radius:8px;margin-bottom:15px}
.alert-success{background:#d4edda;color:#155724}
.alert-error{background:#f8d7da;color:#721c24}

@media(max-width:900px){
.main-content{grid-template-columns:1fr}
.product-grid{grid-template-columns:1fr}
}
</style>
</head>

<body>

<div class="container">
<div class="header">
<h1>ðŸ’§ Premium Mineral Water</h1>
<p>RebelSip Sales Order Portal</p>
</div>

<div id="mainAlert"></div>

<div class="main-content">

<!-- LEFT -->
<div class="card">
<h2>New Order</h2>

<div class="form-group">
<label>Brand Name</label>
<input id="brandName" placeholder="Enter Brand Name">
</div>

<div class="form-group">
<label>Customer Name</label>
<input id="customerName" placeholder="Enter Customer Name">
</div>

<div class="form-group">
<label>Phone Number</label>
<input id="customerPhone">
</div>

<div class="form-group">
<label>Address</label>
<textarea id="customerAddress"></textarea>
</div>

<div class="form-group">
<label>Advance Received (â‚¹)</label>
<input type="number" id="advanceReceived" value="0">
</div>

<h3 style="color:#667eea;margin:20px 0">Select Products</h3>

<div class="product-grid">
<div class="product-item">
<h3>200ml</h3>
<p class="price">â‚¹215</p>
<div class="quantity-control">
<button onclick="updateQty('200ml',-1)">-</button>
<input id="qty-200ml" value="0" readonly>
<button onclick="updateQty('200ml',1)">+</button>
</div>
</div>

<div class="product-item">
<h3>500ml</h3>
<p class="price">â‚¹190</p>
<div class="quantity-control">
<button onclick="updateQty('500ml',-1)">-</button>
<input id="qty-500ml" value="0" readonly>
<button onclick="updateQty('500ml',1)">+</button>
</div>
</div>

<div class="product-item">
<h3>1000ml</h3>
<p class="price">â‚¹170</p>
<div class="quantity-control">
<button onclick="updateQty('1000ml',-1)">-</button>
<input id="qty-1000ml" value="0" readonly>
<button onclick="updateQty('1000ml',1)">+</button>
</div>
</div>
</div>

<div class="order-summary">
<div class="summary-item"><span>Total Items</span><span id="totalItems">0</span></div>
<div class="summary-item"><span>Total Amount</span><span id="totalAmount">â‚¹0</span></div>
<div class="summary-item"><span>Advance</span><span id="advanceSummary">â‚¹0</span></div>
<div class="summary-item"><span>Balance</span><span id="balanceDue">â‚¹0</span></div>
</div>

<button class="btn" onclick="submitOrder()">Place Order</button>
</div>

<!-- RIGHT -->
<div class="card">
<h2>Today's Orders</h2>
<div class="orders-list" id="ordersList">
<p style="text-align:center;color:#999">No orders yet</p>
</div>
</div>

</div>
</div>

<script>
const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyUvp6rid4akRvZZmSd40bsw-Tx61ZV0EeO_G9bBJ7O0vZEBd1wOohioqz-PXcM-jKQBg/exec";
const SALES_PERSON_NAME = "RebelSip Sales Team";

const prices={ "200ml":215,"500ml":190,"1000ml":170 };
let orders=[];

function updateQty(p,change){
let el=document.getElementById("qty-"+p);
el.value=Math.max(0,parseInt(el.value)+change);
updateSummary();
}

function updateSummary(){
let items=0,total=0;
for(let p in prices){
let q=parseInt(document.getElementById("qty-"+p).value);
items+=q;
total+=q*prices[p];
}
let adv=parseInt(document.getElementById("advanceReceived").value)||0;
document.getElementById("totalItems").textContent=items;
document.getElementById("totalAmount").textContent="â‚¹"+total;
document.getElementById("advanceSummary").textContent="â‚¹"+adv;
document.getElementById("balanceDue").textContent="â‚¹"+(total-adv);
}

async function submitOrder(){
let name=customerName.value.trim();
let phone=customerPhone.value.trim();
let addr=customerAddress.value.trim();

if(!name||!phone||!addr){
showAlert("Fill all customer details","error");return;
}

let items=[];
let total=0;
for(let p in prices){
let q=parseInt(document.getElementById("qty-"+p).value);
if(q>0){
items.push(`${p} x${q} = â‚¹${q*prices[p]}`);
total+=q*prices[p];
}
}
if(items.length===0){showAlert("Select product","error");return;}

let payload={
date:new Date().toLocaleString("en-IN"),
salesPerson:SALES_PERSON_NAME,
customerName:name,
customerPhone:phone,
customerAddress:addr,
items:items.join(", "),
totalAmount:total,
advanceReceived:advanceReceived.value,
balanceDue:total-advanceReceived.value
};

fetch(GOOGLE_SCRIPT_URL,{
method:"POST",
mode:"no-cors",
headers:{'Content-Type':'application/json'},
body:JSON.stringify(payload)
});

orders.unshift(payload);
renderOrders();
resetForm();
showAlert("Order saved successfully","success");
}

function renderOrders(){
ordersList.innerHTML=orders.map(o=>`
<div class="order-card">
<b>${o.customerName}</b>
<p>${o.items}</p>
<p>Total â‚¹${o.totalAmount}</p>
<p>Balance â‚¹${o.balanceDue}</p>
</div>`).join("");
}

function resetForm(){
customerName.value="";
customerPhone.value="";
customerAddress.value="";
advanceReceived.value=0;
for(let p in prices) document.getElementById("qty-"+p).value=0;
updateSummary();
}

function showAlert(msg,type){
mainAlert.innerHTML=`<div class="alert alert-${type}">${msg}</div>`;
setTimeout(()=>mainAlert.innerHTML="",3000);
}
</script>

</body>
</html>
